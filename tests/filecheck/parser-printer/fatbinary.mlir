// RUN: xdsl-opt %s | filecheck %s

// Tests parsing and printing a CUDA binary as serialized by MLIR.

"test.op"() {"gpu.binary" = "⚠️"} : () -> ()
"test.op"() {"gpu.binary" = "À"} : () -> ()
"test.op"() {"gpu.binary" = "À⚠️P\EDU"} : () -> ()

// CHECK:       "test.op"() {"gpu.binary" = "\E2\9A\A0\EF\B8\8FP\EDU\BA\01\00\10\00\A0\11\00\00\00\00\00\00\02\00\01\01@\00\00\00(\0D\00\00\00\00\00\00\00\00\00\00\00\00\00\00\07\00\01\00=\00\00\00\00\00\00\00\00\00\00\00\11\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\7FELF\02\01\013\07\00\00\00\00\00\00\00\02\00\BE\00x\00\00\00\00\00\00\00\00\00\00\00\80\0C\00\00\00\00\00\00\80\0A\00\00\00\00\00\00=\05=\00@\008\00\03\00@\00\08\00\01\00\00.shstrtab\00.strtab\00.symtab\00.symtab_shndx\00.nv.uft.entry\00.nv.info\00.text.gpu_kernel_kernel\00.nv.info.gpu_kernel_kernel\00.nv.shared.gpu_kernel_kernel\00.nv.constant0.gpu_kernel_kernel\00\00.shstrtab\00.strtab\00.symtab\00.symtab_shndx\00.nv.uft.entry\00.nv.info\00gpu_kernel_kernel\00.text.gpu_kernel_kernel\00.nv.info.gpu_kernel_kernel\00.nv.shared.gpu_kernel_kernel\00.nv.constant0.gpu_kernel_kernel\00_param\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00R\00\00\00\03\00\07\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\A2\00\00\00\03\00\06\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00@\00\00\00\12\10\07\00\00\00\00\00\00\00\00\00\00\05\00\00\00\00\00\00\04/\08\00\03\00\00\00\13\00\00\00\04#\08\00\03\00\00\00\00\00\00\00\04\12\08\00\03\00\00\00\00\00\00\00\04\11\08\00\03\00\00\00\00\00\00\00\047\04\00x\00\00\00\010\00\00\01*\00\00\04\0A\08\00\02\00\00\00@\01\90\00\03\19\90\00\04\17\0C\00\00\00\00\00\11\00\88\00\00\F0!\00\04\17\0C\00\00\00\00\00\10\00\80\00\00\F0!\00\04\17\0C\00\00\00\00\00\0F\00x\00\00\F0!\00\04\17\0C\00\00\00\00\00\0E\00p\00\00\F0!\00\04\17\0C\00\00\00\00\00\0D\00h\00\00\F0!\00\04\17\0C\00\00\00\00\00\0C\00`\00\00\F0!\00\04\17\0C\00\00\00\00\00\0B\00X\00\00\F0!\00\04\17\0C\00\00\00\00\00\0A\00P\00\00\F0!\00\04\17\0C\00\00\00\00\00\09\00H\00\00\F0!\00\04\17\0C\00\00\00\00\00\08\00@\00\00\F0!\00\04\17\0C\00\00\00\00\00\07\008\00\00\F0!\00\04\17\0C\00\00\00\00\00\06\000\00\00\F0!\00\04\17\0C\00\00\00\00\00\05\00(\00\00\F0!\00\04\17\0C\00\00\00\00\00\04\00 \00\00\F0!\00\04\17\0C\00\00\00\00\00\03\00\18\00\00\F0!\00\04\17\0C\00\00\00\00\00\02\00\10\00\00\F0!\00\04\17\0C\00\00\00\00\00\01\00\08\00\00\F0!\00\04\17\0C\00\00\00\00\00\00\00\00\00\00\F0!\00\03\1B\FF\00\04\1D\0C\00\18\00\00\00H\00\00\00p\00\00\00\04\1C\04\00\D8\04\00\00\01\04\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\F6\07\00\FE\00D\1C\00\01\00\87\00\80\07\98L\0B\F0G\08\00\00\00\01\02\00g\02\00\00\C8\F0\F0\07 \E6\00\C0\1F\00\0C\F0\07\04\11\00\00\01\04\00'\02\00\00\C8\F0\0E\F0\07A\04\00\00\01Q\07\00\FE\00\F4\1D\00\05\00w\02\00\00\C8\F0\0D\F0\07\04\11\00\00\01\06\007\02\00\00\C8\F0\F0\0F\22\E2\00\C0_\00\09\02\E7\01\00\00)8\00\00W\02\00\00\C8\F0\02\02G\00\00\81\18\\1\07 \FC\00\D4\9F\08\03\00\17\02\00\00\C8\F0\04\04\F7\01\00\00)8\07\05\D7\01\00\00)8\F1\07 \FE\08\C4\1F\00\04\04\97\00\00\08\10\\\05\05g\00\80\81\18\\\09\F0G\08\00\00\00\01\F3\07@\FC\00\C4\1F\08\06\06\F7\01\00\00)8\12\04\07!\80\7F\006\0A\02\97\00\88\7F\00[\F1\07 \FE@\C4\1F\00\06\06w\00\00\08\10\\\07\02G\08\80\7F\006\09\02\B7\00\88\7F [\F1\0F@\FC\00\C4\1F\00\08\00\B7\01\00\00)8\0B\05\C7\00\80\7F\00[\10\06\D7\00\80\7F\00[\F1\17 \FE\00\C4\1F\00\00\007\00\80\82\18\\\07\02G\08\80\03(6\03\03\F7\01\00\00)8\F1\07 \FC\00\C4\1F\08\0F\05\C7\00\80\05([\0B\04G\08\80\7F\006\11\06\D7\00\A8\7F\00[\F1\07 \FE\00\C4\1F\00\0D\06\07A\84\7F\006\0A\07\A7\00\A0\04\C0\\\03\03\87\00\00\08\10\\\F1\07 \FC\00\C4\1F\08\08\F0\07A\04\00\00\01\07\05\07A\84\7F\006\09\05\E7\00\88\7F [\F1\07&\FE@\C4\1F\00\0E\05\C7\00\88\7F\00[\0C\05\C7\00\88\7F [\0B\04G\08\90\05 6\F1\07\22\FC\00\C4\1F\00\08\05\87\00\88\7F\00[\07\05\07A\84\03(6\0D\06\07A\94\06 6\FD\07 \FE\00\C4\1F\00\04\04\07!\10\09 6\08\07\87\00\A0\04\C0\\\09\06\17\01\18\080[\F1\07 \FE\00\84\1F\00\07\0F\E7\00 \06\C0\\\0C\02G\08\80\7F\006\06\0A\B7\00\00\00\10\\\F1\07 \FE\00\C4\1F\00\0E\F0\07\04\11\00\00\01\0B\05\07A\84\7F\006\10\F0\07!\00\00\00\01\F1\07 \FE@\84\1F\00\11\F0\07!\00\00\00\01\0A\02G\08\10\06 6\0F\02\07!\80\7F\006\F1\07&\FE@\C4\1F\00\0C\05\E7\00\80\7F\00[\0B\05\07A\94\05 6\0E\05\E7\00\A8\7F\00[\F1\07 \FE\00\84\1F\00\08\08\D7\00\00\00\10\\\0A\0A\87\10\00\00\10\1C\10\02\07\01\88\7F\00[\F1\07\22\FE@\C4\1F\00\11\02\17\01\88\7F [\0F\02\07!\80\07(6\05\05\E7\00\18\060[\F1\07 \FE\00\84\1F\00\0C\02\07!\80\7F\006\06\FFg\00\00\08\10\\\0A\0A\B7\00\00\80\10\\\F1\07@\FE\00\C8\1F\00\07\07\97\00\00\00\10\\\0B\0F\07\01\A0\08\C0\\\02\02\07!\10\06 6\F1\07 \FE\00\94\1F\00\08\06\87\00\00\08\10\\\05\05'\05\00\80\10L\04\0BG\00\00\00\10\\\F1\07\C0\FE\00\C4\1F\00\06\077\05\00\08\10L\05\05'\00\00\80\10\\\06\06G\00\00\08\10\\\F6\07 \FE\00\84\1F\00\07\0A\07\00\00\80\10\\\08\087\00\00\08\10\\\04\00W\00\00\81\D7[\F5\07B\FE\00\C0\1F\08\02\07'\00\00\00H8\05\00g \C0\01\DF[\06\02'\05\00\80\10L\B1\07\00\FE\00\D8\1E\00\03\04\87F\11 \D4\EE\00\07'\00@\04\F86\08\04\87N3 \D4\EE\F0\07 \F6\00\C0\1F\00\07\007\05\00\08\10L\09\04\87)\22 \D4\EE\02\02G\06\00\80\10L\B1\07 \F6\00\C4\1E\00\0A\04\87k\22 \D4\EE\0B\04GJ\22 \D4\EE\0C\04\C7J\22 \D4\EE\BA\07`\FE\00\84\1F\00\06\06\87\08\22 \D4\EE\00\0074\00\00\F0\F0\03\03G@\C0W\04\1E\F1\07 \FE\00\D0\1F\00\08\08G@\C0W\04\1E\09\09G@\C0W\04\1E\0A\0AG@\C0W\04\1E\F1\07 \FE \84\1F\00\08\03\87\00\00\00X\\\0B\0BG@\C0W\04\1E\0C\0CG@\C0W\04\1E\F1\07\80\FE\00\C4\1F\00\03\06G@\C0_\0C\1E\09\09\A7\00\00\00X\\\0C\0B\C7\00\00\00X\\\F1\07\82\FE@\88\1F\00\08\03\87\00\00\00X\\\09\03\97\00\00\00X\\\0C\03\C7\00\00\00X\\\F6\07 \FE\00\D4\1F\00\09\08\97\00\00\00X\\\09\0C\97\00\00\00X\\\06\06\07\AC\10\96\04\1E\F1\07\A0\FE\00\F4\1F\00\09\09gff\F6\03\1E\03\00W\06\00\08\10L\06\06\97\00\00\00X\\\E2\07 \FE\00\FC\1F\00\00\06\F7\BB\19Y\03\1E\00\02\87\08\22 \DC\EE\0F\00\07\00\00\00\00\E3\FF\07\00\FC\00\80\1F\00\0F\00\07\FF\FF\0F@\E2\00\0F\07\00\00\00\B0P\00\0F\07\00\00\00\B0P\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\01\00\00\00\03\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00@\00\00\00\00\00\00\00\B0\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\01\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\0B\00\00\00\03\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\F0\00\00\00\00\00\00\00\C9\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\01\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\13\00\00\00\02\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\C0\01\00\00\00\00\00\00`\00\00\00\00\00\00\00\02\00\00\00\03\00\00\00\08\00\00\00\00\00\00\00\18\00\00\00\00\00\00\007\00\00\00\00\00\00p\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00 \02\00\00\00\00\00\000\00\00\00\00\00\00\00\05\00\00\00\00\00\00\00\04\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00X\00\00\00\00\00\00p\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00P\02\00\00\00\00\00\00`\01\00\00\00\00\00\00\05\00\00\00\07\00\00\00\04\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\90\00\00\00\01\00\00\00\02\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\B0\03\00\00\00\00\00\00\D0\01\00\00\00\00\00\00\00\00\00\00\07\00\00\00\04\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00@\00\00\00\01\00\00\00\06\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\80\05\00\00\00\00\00\00\00\05\00\00\00\00\00\00\05\00\00\00\03\00\00\13 \00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\06\00\00\00\05\00\00\00\80\0C\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\A8\00\00\00\00\00\00\00\A8\00\00\00\00\00\00\00\08\00\00\00\00\00\00\00\01\00\00\00\05\00\00\00\B0\03\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\D0\06\00\00\00\00\00\00\D0\06\00\00\00\00\00\00\08\00\00\00\00\00\00\00\01\00\00\00\05\00\00\00\80\0C\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\A8\00\00\00\00\00\00\00\A8\00\00\00\00\00\00\00\08\00\00\00\00\00\00\00\01\00\01\01H\00\00\00\F0\03\00\00\00\00\00\00\F0\03\00\00@\00\00\00\00\00\06\00=\00\00\00\00\00\00\00\00\00\00\00\11 \00\00\00\00\00\00\00\00\00\00\00\00\00\00\CC\0A\00\00\00\00\00\00\00\00\00\00\00\00\00\00\F2 \0A\0A\0A\0A.version 6.0\0A.target sm_61\0A.address_size 64/\00\F3\09isible .entry gpu_kernel\07\00\DE(\0A.param .u64\1F\00\11_\1D\00?_0,'\00\12\1F1'\00\13\1F2'\00\13\1F3'\00\13\1F4'\00\13\1F5'\00\13\1F6'\00\13\1F7'\00\13\1F8'\00\13\1F9'\00\13\1F1\87\01\15\0F\88\01\14\1F1\89\01\14\1F1\8A\01\14\1F1\8B\01\14\1F1\8C\01\14\1F1\8D\01\14\F3\0817\0A)\0A{\0A.reg .b32 %r<7>;\11\00\10f\11\006f<2\12\00\F2\01b64 %rd<32>;\0A\0Aldd\00\22.u\17\00O1, [j\00\06\F4\030];\0Acvta.to.global7\00!2,=\00\1D;P\00\1F3P\00\09\0FO\00\06\114O\00\813;\0Amov.u\D4\00\B81, %ctaid.x\17\00\152\17\00\18y\17\00\153\17\00\18z\17\00\00X\00\12tC\00\91cvt.s64.s\19\00 d5r\00\184,\00\135,\00\1Dy,\00\106,\00\185,\00\136,\00\1Dz,\00\107,\00\B46;\0Amul.wide\18\00\228,\D4\00.32\1C\00\229,\D9\00\1E4\1B\00210,\DE\00\828;\0Aadd.s0\01\101\1E\01\03U\00*d5\1B\00%2,T\00*d6\1B\00&3,T\00\22d7n\00%lo\1F\00$4,&\00]17424 \00$5,a\00:132Z\00$6,\22\00:264\1B\00(7,]\00\0B\92\00'8,\CF\00t17;\0Ashl\B2\02419,$\00\0An\00420, \00\0A\17\01621,N\02!20\9E\02\03i\02\02\18\03\00\EE\02\01(\00\89+139392]q\00%22\AB\00\0Bq\00\183X\00\1A25\00\164\FB\00\0A\19\00\155\DC\00\0BN\00'6,U\00*24\1D\00(7,$\00\1E5\C4\00\132\C4\00\8E7+70760]\22\00\153\22\00o210152#\00\00\154#\00o139928#\00\00\165#\00[40984,\01\03\BA\01\1D6\DE\00\199\DE\00\0A\A1\01830,$\00\0F\DE\00\00\126v\00\2230\A2\01\1F6\99\00\00\187#\00B404]\A9\02#rn \00\228,\EA\01\AB0f49610AC0!\00\229,G\01\AB0f457C0404!\00\01\22\03\00G\01\0F\22\00\07\00j\02\02e\003C5F\22\00\00\E9\00\06\22\00$2,k\00,10\1C\00&3,D\00\1C2[\00\224,\A1\01\0F}\00\07\225,\A0\01\08\22\00\0A}\00\00?\02\03J\00,15\1D\00\177~\00\1C6\\\00\01>\01\1F6~\00\09\01\D4\00\1F7~\00\08\01\A0\03\03J\00,19\1D\00\161~\00,20\1D\00&2,\1F\01\1C7\1D\00%3,#\00+21\96\00\01\87\03\01#\00Q0f3F6\01\00\0C@\00$5,\1E\02,24?\00#6,\22\00\AA0f35919BBF\BA\02&1,\F8\06\00\B8\00(st\96\02\01\91\02\05V\04\01L\00\C06;\0Aret;\0A\0A}\0A\00"} : () -> ()
